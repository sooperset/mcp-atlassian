# MCP-ATLASSIAN CONFIGURATION EXAMPLE
# ----------------------------------
# Copy this file to .env and fill in your details.
# - Do not use double quotes for string values in this file, unless the value itself contains spaces.
#
# This file documents both:
#   A) Service-scoped OAuth variables (recommended; supports mixed Cloud/DC and separate Jira/Confluence clients)
#   B) Legacy global ATLASSIAN_OAUTH_* variables (kept for backward compatibility)
#
# Resolution order (highest wins):
#   1) Service-scoped OAuth variables (CONFLUENCE_OAUTH_* / JIRA_OAUTH_*)
#   2) Legacy global OAuth variables (ATLASSIAN_OAUTH_*)
#   3) PAT / Basic / API Token, per existing auto-detection rules

# ==============================================================================
# TLS/SSL certificate trust (common for internal Server/Data Center instances)
# ==============================================================================
# If your Jira/Confluence uses a corporate/private CA, Python requests may fail with:
#   SSLCertVerificationError / unable to get local issuer certificate
#
# Recommended: add your corporate CA to the OS trust store and point requests at the OS bundle.
# Then set one (or both) of these:
#REQUESTS_CA_BUNDLE=/etc/ssl/certs/ca-certificates.crt
#SSL_CERT_FILE=/etc/ssl/certs/ca-certificates.crt

# ==============================================================================
# ESSENTIAL INSTANCE URLS
# ==============================================================================
# REQUIRED: Replace with your instance URLs.
# Example Cloud: https://your-company.atlassian.net
# Example Server/DC: https://jira.your-internal-domain.com
JIRA_URL=https://your-company.atlassian.net

# Example Cloud: https://your-company.atlassian.net/wiki
# Example Server/DC: https://confluence.your-internal-domain.com
CONFLUENCE_URL=https://your-company.atlassian.net/wiki

# ==============================================================================
# AUTHENTICATION: CHOOSE ONE METHOD PER PRODUCT (Jira/Confluence)
# ==============================================================================
# mcp-atlassian auto-detects auth based on what you set.
# The most common patterns are:
# - Cloud: API token (username + api token)
# - Server/Data Center: PAT
# - Cloud (advanced): OAuth 2.0 (3LO) or BYOT
# - Data Center (advanced): OAuth 2.0 (Application Links / incoming link)

# ------------------------------------------------------------------------------
# METHOD 1: API TOKEN (Recommended for Atlassian Cloud)
# ------------------------------------------------------------------------------
#JIRA_USERNAME=your.email@example.com
#JIRA_API_TOKEN=your_jira_api_token
#
#CONFLUENCE_USERNAME=your.email@example.com
#CONFLUENCE_API_TOKEN=your_confluence_api_token

# ------------------------------------------------------------------------------
# METHOD 2: PERSONAL ACCESS TOKEN (PAT) (Server / Data Center - Recommended)
# ------------------------------------------------------------------------------
#JIRA_PERSONAL_TOKEN=your_jira_personal_access_token
#CONFLUENCE_PERSONAL_TOKEN=your_confluence_personal_access_token

# ------------------------------------------------------------------------------
# METHOD 3: USERNAME/PASSWORD (Server / Data Center - Basic Auth)
# ------------------------------------------------------------------------------
#JIRA_USERNAME=your_server_dc_username
#JIRA_API_TOKEN=your_server_dc_password   # For Server/DC Basic Auth, API_TOKEN holds the actual password
#
#CONFLUENCE_USERNAME=your_server_dc_username
#CONFLUENCE_API_TOKEN=your_server_dc_password

# ------------------------------------------------------------------------------
# METHOD 4: OAUTH 2.0 (Advanced)
# ------------------------------------------------------------------------------
# IMPORTANT DIFFERENCE:
# - Atlassian Cloud commonly uses a single developer-console OAuth 2.0 (3LO) app that can cover Jira + Confluence.
# - Data Center OAuth is configured per-instance (per Confluence DC / per Jira DC). You will usually have
#   distinct client credentials per product/instance.
#
# To support mixed environments and separate clients, prefer SERVICE-SCOPED variables below:
#   - CONFLUENCE_OAUTH_* for Confluence
#   - JIRA_OAUTH_* for Jira
#
# The legacy ATLASSIAN_OAUTH_* variables are still supported as a fallback.

# ---- Confluence OAuth (service-scoped) ---------------------------------------
# Enable minimal OAuth mode (optional; primarily for HTTP transport multi-user setups):
#CONFLUENCE_OAUTH_ENABLE=true
#
# Required for OAuth (Cloud or Data Center):
#CONFLUENCE_OAUTH_CLIENT_ID=your_confluence_oauth_client_id
#CONFLUENCE_OAUTH_CLIENT_SECRET=your_confluence_oauth_client_secret
#CONFLUENCE_OAUTH_REDIRECT_URI=http://localhost:8080/callback
#CONFLUENCE_OAUTH_SCOPE=read:confluence-content.all read:confluence-space.summary offline_access
#
# Instance type (defaults to 'cloud' if not specified):
#CONFLUENCE_OAUTH_INSTANCE_TYPE=cloud   # cloud | datacenter
#
# Data Center only:
#CONFLUENCE_OAUTH_INSTANCE_URL=https://confluence.your-internal-domain.com
#
# Cloud only (after running --oauth-setup; wizard prints this):
#CONFLUENCE_OAUTH_CLOUD_ID=your_confluence_cloud_id

# Bring Your Own Token (BYOT) (Cloud only; no refresh is performed):
#CONFLUENCE_OAUTH_CLOUD_ID=your_confluence_cloud_id
#CONFLUENCE_OAUTH_ACCESS_TOKEN=your_pre_existing_confluence_oauth_access_token

# ---- Jira OAuth (service-scoped) ---------------------------------------------
#JIRA_OAUTH_ENABLE=true
#
#JIRA_OAUTH_CLIENT_ID=your_jira_oauth_client_id
#JIRA_OAUTH_CLIENT_SECRET=your_jira_oauth_client_secret
#JIRA_OAUTH_REDIRECT_URI=http://localhost:8080/callback
#JIRA_OAUTH_SCOPE=read:jira-work write:jira-work offline_access
#
#JIRA_OAUTH_INSTANCE_TYPE=cloud   # cloud | datacenter
#
# Data Center only:
#JIRA_OAUTH_INSTANCE_URL=https://jira.your-internal-domain.com
#
# Cloud only:
#JIRA_OAUTH_CLOUD_ID=your_jira_cloud_id
#
# BYOT (Cloud only):
#JIRA_OAUTH_CLOUD_ID=your_jira_cloud_id
#JIRA_OAUTH_ACCESS_TOKEN=your_pre_existing_jira_oauth_access_token

# ---- Legacy global OAuth (fallback / backward compatibility) -----------------
# Use this if you have a single Atlassian Cloud OAuth 2.0 (3LO) app shared across Jira + Confluence.
# If service-scoped variables are set, they take precedence.
#
#ATLASSIAN_OAUTH_ENABLE=true
#ATLASSIAN_OAUTH_CLIENT_ID=your_oauth_client_id
#ATLASSIAN_OAUTH_CLIENT_SECRET=your_oauth_client_secret
#ATLASSIAN_OAUTH_REDIRECT_URI=http://localhost:8080/callback
#ATLASSIAN_OAUTH_SCOPE=read:jira-work write:jira-work read:confluence-content.all write:confluence-content offline_access
#
# Cloud only:
#ATLASSIAN_OAUTH_CLOUD_ID=your_atlassian_cloud_id_from_oauth_setup
#
# Data Center only (legacy global mode; not recommended if you have both Jira DC and Confluence DC):
#ATLASSIAN_OAUTH_INSTANCE_TYPE=datacenter
#ATLASSIAN_OAUTH_INSTANCE_URL=https://your-datacenter-instance.com
#
# Legacy BYOT (Cloud only):
#ATLASSIAN_OAUTH_CLOUD_ID=your_atlassian_cloud_id
#ATLASSIAN_OAUTH_ACCESS_TOKEN=your_pre_existing_oauth_access_token

# ==============================================================================
# SERVER/DC SPECIFIC SETTINGS
# ==============================================================================
# Only applicable if your JIRA_URL/CONFLUENCE_URL points to a Server/DC instance (not *.atlassian.net).
# Default is true. Set to false only for self-signed certificates (not recommended for production).
#JIRA_SSL_VERIFY=true
#CONFLUENCE_SSL_VERIFY=true

# ==============================================================================
# OPTIONAL CONFIGURATION
# ==============================================================================
# Transport mode for the MCP server. Default is 'stdio'.
# Options: stdio, sse, streamable-http
#TRANSPORT=stdio
#PORT=8000
#HOST=0.0.0.0
#
#READ_ONLY_MODE=false
#
# Logging:
# MCP_VERBOSE=true        # INFO (equivalent to -v)
# MCP_VERY_VERBOSE=true   # DEBUG (equivalent to -vv)
# MCP_LOGGING_STDOUT=true # log to stdout
#
# Tool filtering:
#ENABLED_TOOLS=
#
# Content filtering:
#CONFLUENCE_SPACES_FILTER=DEV,TEAM,DOC
#JIRA_PROJECTS_FILTER=PROJ,DEVOPS
#
# Proxy settings (global and per service):
#HTTP_PROXY=http://proxy.example.com:8080
#HTTPS_PROXY=https://user:pass@proxy.example.com:8443
#NO_PROXY=localhost,127.0.0.1,.internal.example.com
#
#JIRA_HTTP_PROXY=http://jira-proxy.example.com:8080
#JIRA_HTTPS_PROXY=https://jira-proxy.example.com:8443
#JIRA_NO_PROXY=localhost,127.0.0.1,.internal.jira.com
#
#CONFLUENCE_HTTP_PROXY=http://confluence-proxy.example.com:8080
#CONFLUENCE_HTTPS_PROXY=https://confluence-proxy.example.com:8443
#CONFLUENCE_NO_PROXY=localhost,127.0.0.1,.internal.confluence.com
