---
title: "Authentication"
description: "Configure authentication for MCP Atlassian - API tokens, PATs, and OAuth 2.0"
---

# Authentication

MCP Atlassian supports three authentication methods depending on your Atlassian deployment type.

## API Token (Cloud) - Recommended

The simplest method for Atlassian Cloud users.

<Steps>
  <Step title="Create API Token">
    Go to https://id.atlassian.com/manage-profile/security/api-tokens
  </Step>
  <Step title="Generate Token">
    Click **Create API token**, give it a name
  </Step>
  <Step title="Copy Token">
    Copy the token immediately - you won't see it again
  </Step>
</Steps>

**Environment variables:**
```bash
JIRA_URL=https://your-company.atlassian.net
JIRA_USERNAME=your.email@company.com
JIRA_API_TOKEN=your_api_token

CONFLUENCE_URL=https://your-company.atlassian.net/wiki
CONFLUENCE_USERNAME=your.email@company.com
CONFLUENCE_API_TOKEN=your_api_token
```

## Personal Access Token (Server/Data Center)

For Server or Data Center deployments.

<Steps>
  <Step title="Access Profile">
    Go to your profile (avatar) → **Profile** → **Personal Access Tokens**
  </Step>
  <Step title="Create Token">
    Click **Create token**, name it, set expiry
  </Step>
  <Step title="Copy Token">
    Copy the token immediately
  </Step>
</Steps>

**Environment variables:**
```bash
JIRA_URL=https://jira.your-company.com
JIRA_PERSONAL_TOKEN=your_personal_access_token

CONFLUENCE_URL=https://confluence.your-company.com
CONFLUENCE_PERSONAL_TOKEN=your_personal_access_token
```

<Note>
For self-signed certificates, set `JIRA_SSL_VERIFY=false` and/or `CONFLUENCE_SSL_VERIFY=false`.
</Note>

## OAuth 2.0 (Cloud and Data Center) - Advanced

OAuth 2.0 provides enhanced security features but requires more setup. For most users, API Token (Cloud) or PAT (Server/Data Center) is simpler and sufficient.

### Service-scoped OAuth variables (recommended)

To support mixed deployments (for example: Jira Data Center + Confluence Cloud) and separate OAuth clients per product/instance, configure OAuth per service:

- Confluence: `CONFLUENCE_OAUTH_*`
- Jira: `JIRA_OAUTH_*`

If you do not set service-scoped variables, the server falls back to legacy global variables (`ATLASSIAN_OAUTH_*`) for backward compatibility.

### Cloud OAuth (3LO)

#### Setup Steps

<Steps>
  <Step title="Create OAuth App">
    Go to [Atlassian Developer Console](https://developer.atlassian.com/console/myapps/) and create an "OAuth 2.0 (3LO) integration" app
  </Step>
  <Step title="Configure Permissions">
    Add scopes for Jira/Confluence as needed
  </Step>
  <Step title="Set Callback URL">
    Set to `http://localhost:8080/callback`
  </Step>
  <Step title="Run Setup Wizard">
    ```bash
    # Using uvx
    uvx mcp-atlassian --oauth-setup -v

    # Or using Docker
    docker run --rm -i \
      -p 8080:8080 \
      -v "${HOME}/.mcp-atlassian:/home/app/.mcp-atlassian" \
      ghcr.io/sooperset/mcp-atlassian:latest --oauth-setup -v
    ```
  </Step>
  <Step title="Complete Authorization">
    Follow prompts for Client ID, Secret, URI, and Scope, then complete browser authorization
  </Step>
</Steps>

#### Environment variables (Cloud)

Option A (legacy / single shared Cloud app for both products):

```bash
JIRA_URL=https://your-company.atlassian.net
CONFLUENCE_URL=https://your-company.atlassian.net/wiki

ATLASSIAN_OAUTH_CLOUD_ID=your_cloud_id_from_wizard
ATLASSIAN_OAUTH_CLIENT_ID=your_oauth_client_id
ATLASSIAN_OAUTH_CLIENT_SECRET=your_oauth_client_secret
ATLASSIAN_OAUTH_REDIRECT_URI=http://localhost:8080/callback
ATLASSIAN_OAUTH_SCOPE=read:jira-work write:jira-work read:confluence-content.all write:confluence-content offline_access
```

Option B (recommended / service-scoped Cloud OAuth):

```bash
JIRA_URL=https://your-company.atlassian.net
CONFLUENCE_URL=https://your-company.atlassian.net/wiki

JIRA_OAUTH_INSTANCE_TYPE=cloud
JIRA_OAUTH_CLOUD_ID=your_jira_cloud_id_from_wizard
JIRA_OAUTH_CLIENT_ID=your_jira_oauth_client_id
JIRA_OAUTH_CLIENT_SECRET=your_jira_oauth_client_secret
JIRA_OAUTH_REDIRECT_URI=http://localhost:8080/callback
JIRA_OAUTH_SCOPE=read:jira-work write:jira-work offline_access

CONFLUENCE_OAUTH_INSTANCE_TYPE=cloud
CONFLUENCE_OAUTH_CLOUD_ID=your_confluence_cloud_id_from_wizard
CONFLUENCE_OAUTH_CLIENT_ID=your_confluence_oauth_client_id
CONFLUENCE_OAUTH_CLIENT_SECRET=your_confluence_oauth_client_secret
CONFLUENCE_OAUTH_REDIRECT_URI=http://localhost:8080/callback
CONFLUENCE_OAUTH_SCOPE=read:confluence-content.all read:confluence-space.summary offline_access
```

<Warning>
Include `offline_access` in your scope to allow automatic token refresh on Cloud.
</Warning>

### Data Center OAuth 2.0 (Application Links) - Advanced

Data Center OAuth is configured per instance. If you use both Jira Data Center and Confluence Data Center, you will typically have distinct client credentials for each instance. Use service-scoped variables.

<Steps>
  <Step title="Create OAuth 2.0 Application Link">
    In your Jira/Confluence Data Center instance, create/configure an Application Link (OAuth 2.0) for an incoming link/integration.
  </Step>
  <Step title="Run Setup Wizard">
    ```bash
    uvx mcp-atlassian --oauth-setup -v
    ```
  </Step>
  <Step title="Complete Authorization">
    Use the instance authorize URL and complete the authorization flow in your browser.
  </Step>
</Steps>

Example (Confluence Data Center):

```bash
CONFLUENCE_URL=https://confluence.your-company.com

CONFLUENCE_OAUTH_INSTANCE_TYPE=datacenter
CONFLUENCE_OAUTH_INSTANCE_URL=https://confluence.your-company.com
CONFLUENCE_OAUTH_CLIENT_ID=your_confluence_dc_client_id
CONFLUENCE_OAUTH_CLIENT_SECRET=your_confluence_dc_client_secret
CONFLUENCE_OAUTH_REDIRECT_URI=http://localhost:8080/callback
CONFLUENCE_OAUTH_SCOPE=READ WRITE
```

### Bring Your Own Token (BYOT) (Cloud only)

If you manage OAuth tokens externally (for example: through a gateway or central identity provider), provide the access token and Cloud ID.

Service-scoped BYOT (recommended):

```bash
JIRA_OAUTH_INSTANCE_TYPE=cloud
JIRA_OAUTH_CLOUD_ID=your_cloud_id
JIRA_OAUTH_ACCESS_TOKEN=your_pre_existing_access_token
```

Legacy global BYOT (fallback):

```bash
ATLASSIAN_OAUTH_CLOUD_ID=your_cloud_id
ATLASSIAN_OAUTH_ACCESS_TOKEN=your_pre_existing_access_token
```

<Warning>
Token refresh is your responsibility - the server does not handle it for BYOT.
</Warning>

### Multi-Cloud OAuth (per-request, Cloud only)

For multi-tenant applications where users provide their own OAuth tokens per request:

1. Enable minimal OAuth mode:
   ```bash
   # Using uvx
   ATLASSIAN_OAUTH_ENABLE=true uvx mcp-atlassian --transport streamable-http --port 9000

   # Or using Docker
   docker run -e ATLASSIAN_OAUTH_ENABLE=true -p 9000:9000 \
     ghcr.io/sooperset/mcp-atlassian:latest \
     --transport streamable-http --port 9000
   ```

2. Users provide authentication via HTTP headers:
   - `Authorization: Bearer <user_oauth_token>`
   - `X-Atlassian-Cloud-Id: <user_cloud_id>`

See [HTTP Transport](/http-transport) for more details on multi-user authentication.
