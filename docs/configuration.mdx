---
title: "Configuration"
description: "IDE integration, environment variables, and advanced configuration options"
---

# Configuration

This guide covers IDE integration, environment variables, and advanced configuration options.

## IDE Integration

### Configuration File Locations

| IDE | Location |
|-----|----------|
| Claude Desktop (Windows) | `%APPDATA%\Claude\claude_desktop_config.json` |
| Claude Desktop (macOS) | `~/Library/Application Support/Claude/claude_desktop_config.json` |
| Claude Desktop (Linux) | `~/.config/Claude/claude_desktop_config.json` |
| Cursor | Settings → MCP → + Add new global MCP server |

### Basic Configuration (uvx)

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "uvx",
      "args": ["mcp-atlassian"],
      "env": {
        "JIRA_URL": "https://your-company.atlassian.net",
        "JIRA_USERNAME": "your.email@company.com",
        "JIRA_API_TOKEN": "your_api_token"
      }
    }
  }
}
```

### Docker with Environment File

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "docker",
      "args": [
        "run", "--rm", "-i",
        "--env-file", "/path/to/your/mcp-atlassian.env",
        "ghcr.io/sooperset/mcp-atlassian:latest"
      ]
    }
  }
}
```

### Server/Data Center Configuration

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "uvx",
      "args": ["mcp-atlassian"],
      "env": {
        "JIRA_URL": "https://jira.your-company.com",
        "JIRA_PERSONAL_TOKEN": "your_pat",
        "JIRA_SSL_VERIFY": "false",
        "CONFLUENCE_URL": "https://confluence.your-company.com",
        "CONFLUENCE_PERSONAL_TOKEN": "your_pat",
        "CONFLUENCE_SSL_VERIFY": "false"
      }
    }
  }
}
```

### Single Service Configuration

<Tabs>
  <Tab title="Confluence Only">
    ```json
    {
      "mcpServers": {
        "mcp-atlassian": {
          "command": "uvx",
          "args": ["mcp-atlassian"],
          "env": {
            "CONFLUENCE_URL": "https://your-company.atlassian.net/wiki",
            "CONFLUENCE_USERNAME": "your.email@company.com",
            "CONFLUENCE_API_TOKEN": "your_api_token"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="Jira Only">
    ```json
    {
      "mcpServers": {
        "mcp-atlassian": {
          "command": "uvx",
          "args": ["mcp-atlassian"],
          "env": {
            "JIRA_URL": "https://your-company.atlassian.net",
            "JIRA_USERNAME": "your.email@company.com",
            "JIRA_API_TOKEN": "your_api_token"
          }
        }
      }
    }
    ```
  </Tab>
</Tabs>

## Multi-Instance Configuration

Connect to multiple Jira and/or Confluence instances simultaneously. This is useful when working with production, staging, and development environments, or when integrating with multiple organizations.

### Configuration Pattern

- **Primary instance:** Use standard variables (`JIRA_URL`, `JIRA_USERNAME`, etc.)
- **Secondary instances:** Use numbered prefixes (`JIRA_2_*`, `JIRA_3_*`, `CONFLUENCE_2_*`, `CONFLUENCE_3_*`, etc.)
- **Instance naming:** Use `{SERVICE}_{N}_INSTANCE_NAME` to set a custom name (default: `jira_{N}`, `confluence_{N}`)

### Tool Naming

- **Primary instance:** Tools use standard names (e.g., `jira_get_issue`, `confluence_search`)
- **Secondary instances:** Tools are prefixed with the instance name (e.g., `jira_staging_get_issue`, `jira_prod_create_issue`)

### Instance Name Rules

- Must be alphanumeric + underscore only
- Maximum 30 characters
- Cannot use reserved names: `jira`, `confluence`

### Example: Multiple Jira Instances

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "uvx",
      "args": ["mcp-atlassian"],
      "env": {
        // Primary instance (production)
        "JIRA_URL": "https://prod.atlassian.net",
        "JIRA_USERNAME": "prod@example.com",
        "JIRA_API_TOKEN": "prod_token",

        // Secondary instance #2 (staging)
        "JIRA_2_URL": "https://staging.atlassian.net",
        "JIRA_2_USERNAME": "staging@example.com",
        "JIRA_2_API_TOKEN": "staging_token",
        "JIRA_2_INSTANCE_NAME": "staging",

        // Secondary instance #3 (development)
        "JIRA_3_URL": "https://dev.internal.example.com",
        "JIRA_3_PERSONAL_TOKEN": "dev_pat_token",
        "JIRA_3_INSTANCE_NAME": "dev",
        "JIRA_3_SSL_VERIFY": "false"
      }
    }
  }
}
```

**Available tools:**
- Primary: `jira_get_issue`, `jira_search`, `jira_create_issue`, etc.
- Staging: `jira_staging_get_issue`, `jira_staging_search`, `jira_staging_create_issue`, etc.
- Dev: `jira_dev_get_issue`, `jira_dev_search`, `jira_dev_create_issue`, etc.

### Example: Multiple Confluence Instances

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "uvx",
      "args": ["mcp-atlassian"],
      "env": {
        // Primary instance (corporate)
        "CONFLUENCE_URL": "https://corporate.atlassian.net/wiki",
        "CONFLUENCE_USERNAME": "corp@example.com",
        "CONFLUENCE_API_TOKEN": "corp_token",

        // Secondary instance #2 (community)
        "CONFLUENCE_2_URL": "https://community.atlassian.net/wiki",
        "CONFLUENCE_2_USERNAME": "community@example.com",
        "CONFLUENCE_2_API_TOKEN": "community_token",
        "CONFLUENCE_2_INSTANCE_NAME": "community",
        "CONFLUENCE_2_SPACES_FILTER": "PUBLIC,DOCS"
      }
    }
  }
}
```

### Mixed Instances

You can combine multiple Jira and Confluence instances:

```json
{
  "mcpServers": {
    "mcp-atlassian": {
      "command": "uvx",
      "args": ["mcp-atlassian"],
      "env": {
        // Production Jira
        "JIRA_URL": "https://prod.atlassian.net",
        "JIRA_USERNAME": "prod@example.com",
        "JIRA_API_TOKEN": "prod_token",

        // Staging Jira
        "JIRA_2_URL": "https://staging.atlassian.net",
        "JIRA_2_USERNAME": "staging@example.com",
        "JIRA_2_API_TOKEN": "staging_token",
        "JIRA_2_INSTANCE_NAME": "staging",

        // Production Confluence
        "CONFLUENCE_URL": "https://prod.atlassian.net/wiki",
        "CONFLUENCE_USERNAME": "prod@example.com",
        "CONFLUENCE_API_TOKEN": "prod_token",

        // Staging Confluence
        "CONFLUENCE_2_URL": "https://staging.atlassian.net/wiki",
        "CONFLUENCE_2_USERNAME": "staging@example.com",
        "CONFLUENCE_2_API_TOKEN": "staging_token",
        "CONFLUENCE_2_INSTANCE_NAME": "staging"
      }
    }
  }
}
```

### Multi-Instance Notes

- Each instance can use different authentication methods
- All optional settings (SSL, proxy, custom headers, filters, etc.) can be configured per instance
- Instance numbers can be non-sequential (e.g., `JIRA_2_*`, `JIRA_5_*` without `JIRA_3_*`, `JIRA_4_*`)
- If you skip the primary instance, secondary instances are still loaded
- Tools for unavailable instances will not be registered

## Environment Variables

### Connection Settings

| Variable | Description |
|----------|-------------|
| `JIRA_URL` | Jira instance URL |
| `JIRA_USERNAME` | Jira username (email for Cloud) |
| `JIRA_API_TOKEN` | Jira API token (Cloud) |
| `JIRA_PERSONAL_TOKEN` | Jira Personal Access Token (Server/DC) |
| `JIRA_SSL_VERIFY` | SSL verification (`true`/`false`) |
| `CONFLUENCE_URL` | Confluence instance URL |
| `CONFLUENCE_USERNAME` | Confluence username (email for Cloud) |
| `CONFLUENCE_API_TOKEN` | Confluence API token (Cloud) |
| `CONFLUENCE_PERSONAL_TOKEN` | Confluence Personal Access Token (Server/DC) |
| `CONFLUENCE_SSL_VERIFY` | SSL verification (`true`/`false`) |

### Filtering Options

| Variable | Description | Example |
|----------|-------------|---------|
| `JIRA_PROJECTS_FILTER` | Limit to specific Jira projects | `PROJ,DEV,SUPPORT` |
| `CONFLUENCE_SPACES_FILTER` | Limit to specific Confluence spaces | `DEV,TEAM,DOC` |
| `ENABLED_TOOLS` | Enable only specific tools | `confluence_search,jira_get_issue` |

### Server Options

| Variable | Description |
|----------|-------------|
| `TRANSPORT` | Transport type (`stdio`, `sse`, `streamable-http`) |
| `STATELESS` | Enable stateless mode for streamable-http (`true`/`false`) |
| `PORT` | Port for HTTP transports (default: `8000`) |
| `HOST` | Host for HTTP transports (default: `0.0.0.0`) |
| `READ_ONLY_MODE` | Disable write operations (`true`/`false`) |
| `MCP_VERBOSE` | Enable verbose logging (`true`/`false`) |
| `MCP_VERY_VERBOSE` | Enable debug logging (`true`/`false`) |
| `MCP_LOGGING_STDOUT` | Log to stdout instead of stderr (`true`/`false`) |

See [.env.example](https://github.com/sooperset/mcp-atlassian/blob/main/.env.example) for all available options.

## Proxy Configuration

MCP Atlassian supports routing API requests through HTTP/HTTPS/SOCKS proxies.

| Variable | Description |
|----------|-------------|
| `HTTP_PROXY` | HTTP proxy URL |
| `HTTPS_PROXY` | HTTPS proxy URL |
| `SOCKS_PROXY` | SOCKS proxy URL |
| `NO_PROXY` | Hosts to bypass proxy |
| `JIRA_HTTPS_PROXY` | Jira-specific HTTPS proxy |
| `CONFLUENCE_HTTPS_PROXY` | Confluence-specific HTTPS proxy |

Service-specific variables override global ones.

## Custom HTTP Headers

Add custom HTTP headers to all API requests. Useful in corporate environments.

| Variable | Description |
|----------|-------------|
| `JIRA_CUSTOM_HEADERS` | Custom headers for Jira requests |
| `CONFLUENCE_CUSTOM_HEADERS` | Custom headers for Confluence requests |

**Format:** Comma-separated `key=value` pairs.

```bash
JIRA_CUSTOM_HEADERS=X-Forwarded-User=service-account,X-Custom-Auth=token
CONFLUENCE_CUSTOM_HEADERS=X-Service=mcp-integration,X-ALB-Token=secret
```

<Note>
Header values are masked in debug logs for security.
</Note>

## Tool Filtering

Control which tools are available:

```bash
# Enable specific tools
ENABLED_TOOLS="confluence_search,jira_get_issue,jira_search"

# Read-only mode (disables all write operations)
READ_ONLY_MODE=true
```

Command-line alternative:
```bash
uvx mcp-atlassian --enabled-tools "confluence_search,jira_get_issue"
```
