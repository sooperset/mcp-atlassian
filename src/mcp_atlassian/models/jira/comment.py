\"\"\"\nJira comment models.\n\nThis module provides Pydantic models for Jira comments.\n\"\"\"\n\nimport logging\nfrom typing import Any\n\nfrom ..base import ApiModel, TimestampMixin\nfrom ..constants import (\n    EMPTY_STRING,\n    JIRA_DEFAULT_ID,\n)\nfrom .common import JiraUser\n\nlogger = logging.getLogger(__name__)\n\n\nclass JiraComment(ApiModel, TimestampMixin):\n    \"\"\"\n    Model representing a Jira issue comment.\n    \"\"\"\n\n    id: str = JIRA_DEFAULT_ID\n    body: str | dict[str, Any] = EMPTY_STRING\n    created: str = EMPTY_STRING\n    updated: str = EMPTY_STRING\n    author: JiraUser | None = None\n\n    @classmethod\n    def from_api_response(cls, data: dict[str, Any], **kwargs: Any) -> \"JiraComment\":\n        \"\"\"\n        Create a JiraComment from a Jira API response.\n\n        Args:\n            data: The comment data from the Jira API\n\n        Returns:\n            A JiraComment instance\n        \"\"\"\n        if not data:\n            return cls()\n\n        # Handle non-dictionary data by returning a default instance\n        if not isinstance(data, dict):\n            logger.debug(\"Received non-dictionary data, returning default instance\")\n            return cls()\n\n        # Extract author data\n        author = None\n        author_data = data.get(\"author\")\n        if author_data:\n            author = JiraUser.from_api_response(author_data)\n\n        # Ensure ID is a string\n        comment_id = data.get(\"id\", JIRA_DEFAULT_ID)\n        if comment_id is not None:\n            comment_id = str(comment_id)\n\n        # Get the body content\n        body = data.get(\"body\")\n\n        return cls(\n            id=comment_id,\n            body=body or EMPTY_STRING,\n            created=str(data.get(\"created\", EMPTY_STRING)),\n            updated=str(data.get(\"updated\", EMPTY_STRING)),\n            author=author,\n        )\n\n    def to_simplified_dict(self) -> dict[str, Any]:\n        \"\"\"Convert to simplified dictionary for API response.\"\"\"\n        result = {\n            \"body\": self.body,\n        }\n\n        if self.author:\n            result[\"author\"] = self.author.to_simplified_dict()\n\n        if self.created:\n            result[\"created\"] = self.created\n\n        if self.updated:\n            result[\"updated\"] = self.updated\n\n        return result\n